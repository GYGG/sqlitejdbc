<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="/content.css" />
    <title>SQLiteJDBC - Usage</title>
</head>
<body>
<div class="ad">
<script type="text/javascript"><!--
google_ad_client = "pub-3074710994457921";
google_ad_width = 120;
google_ad_height = 240;
google_ad_format = "120x240_as";
google_ad_type = "text";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>



<div class="content">
<h1>SQLiteJDBC</h1>

<p class="item">
    <a href="../">&#60;-</a> |
    <a href="index.html">SQLiteJDBC</a> |
    <a href="changes.html">Changelog</a> |
    <a href="usage.html">Usage</a> |
    <a href="speed.html">Speed</a> |
    <a href="functions.html">Custom Functions</a> |
    <a href="api/">Javadoc</a>
</p>

<h2>Usage</h2>

<p>Download the binary for the platform you are developing on. Open the
tarball and copy the two files into your application directory:</p>
<pre>
    sqlitejdbc.jar
    sqlitejdbc.dll (or libsqlitejdbc.so or libsqlitejdbc.jnilib)
</pre>

<p>Reference the driver in your code:</p>
<pre>
    Class.forName("org.sqlite.JDBC");
    Connection conn = DriverManager.getConnection("jdbc:sqlite:filename");
    // ... use the database ...
    conn.close();
</pre>

<p>And call your program with the driver's JAR file in the classpath
and the C library in the librarypath. E.g.</p>
<pre>
    java -cp sqlitejdbc.jar -Djava.library.path=. yourclass
</pre>

<p>That's it.</p>

<h3>Dates and Time</h3>

<p>SQLiteJDBC implements <tt>ResultSet.getDate()/getTime()</tt> and
<tt>PreparedStatement.setDate()/setTime()</tt> in the only efficient
way the JDBC spec allows for, which is storing the time as a 64-bit
long of milliseconds since UTC. This is the standard unix timestamp.</p>

<p>This does not conflict with the SQLite
<a href="http://www.sqlite.org/cvstrac/wiki?p=DateAndTimeFunctions"> standard
format</a> as long as care is taken to transform the unix timestamp
into what SQLite functions use, either at the point where the date is
stored or when using it elsewhere in SQLite. For example:</p>

<pre>
    prep = conn.prepareStatement("insert into test values (?);");
    prep.setDate(1, new Date(1000));
    prep.executeUpdate();

    rs = stat.executeQuery("select * from test;");
    rs.getString(1) = "1000";
</pre>

In the above example the date is being stored as a unix timestamp.
To store the date in the standard SQLite format, transform it with
the <tt>datetime()</tt> and <tt>strftime()</tt> functions:

<pre>
    prep = conn.prepareStatement(
        "insert into test values datetime(?, 'unixepoch');");
    prep.setDate(1, new Date(987654321));
    prep.executeUpdate();

    rs = stat.executeQuery("select * from test;");
    rs.getString(1) = "2001-04-19 04:25:21";

    rs = stat.executeQuery("select strftime('%s', col1) from test;");
    rs.getDate(1) == new Date(987654321);
</pre>



<h2>Compiling</h2>

<p>Download the source tarball, extract, set your <tt>$JAVA_HOME</tt>
env variable and type:</p>
<pre>
    $ make
</pre>
<p>See the <a href="src/README">README</a> for more details.</p>

</div>
<p class="sig">2006-08-10</p>

</body>
</html>
